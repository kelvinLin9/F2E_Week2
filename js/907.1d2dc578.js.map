{"version":3,"file":"js/907.1d2dc578.js","mappings":"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","sources":["webpack://f2e_week2/./node_modules/core-js/internals/a-possible-prototype.js","webpack://f2e_week2/./node_modules/core-js/internals/an-instance.js","webpack://f2e_week2/./node_modules/core-js/internals/classof.js","webpack://f2e_week2/./node_modules/core-js/internals/dom-exception-constants.js","webpack://f2e_week2/./node_modules/core-js/internals/error-stack-clear.js","webpack://f2e_week2/./node_modules/core-js/internals/inherit-if-required.js","webpack://f2e_week2/./node_modules/core-js/internals/normalize-string-argument.js","webpack://f2e_week2/./node_modules/core-js/internals/object-set-prototype-of.js","webpack://f2e_week2/./node_modules/core-js/internals/to-string-tag-support.js","webpack://f2e_week2/./node_modules/core-js/internals/to-string.js","webpack://f2e_week2/./node_modules/core-js/modules/web.dom-exception.stack.js","webpack://f2e_week2/./src/stores/pdfStore.js","webpack://f2e_week2/./src/stores/signStore.js","webpack://f2e_week2/./src/stores/statusStore.js"],"sourcesContent":["var isCallable = require('../internals/is-callable');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\nmodule.exports = function (argument) {\n  if (typeof argument == 'object' || isCallable(argument)) return argument;\n  throw $TypeError(\"Can't set \" + $String(argument) + ' as a prototype');\n};\n","var isPrototypeOf = require('../internals/object-is-prototype-of');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (it, Prototype) {\n  if (isPrototypeOf(Prototype, it)) return it;\n  throw $TypeError('Incorrect invocation');\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar isCallable = require('../internals/is-callable');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar $Object = Object;\n\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n","module.exports = {\n  IndexSizeError: { s: 'INDEX_SIZE_ERR', c: 1, m: 1 },\n  DOMStringSizeError: { s: 'DOMSTRING_SIZE_ERR', c: 2, m: 0 },\n  HierarchyRequestError: { s: 'HIERARCHY_REQUEST_ERR', c: 3, m: 1 },\n  WrongDocumentError: { s: 'WRONG_DOCUMENT_ERR', c: 4, m: 1 },\n  InvalidCharacterError: { s: 'INVALID_CHARACTER_ERR', c: 5, m: 1 },\n  NoDataAllowedError: { s: 'NO_DATA_ALLOWED_ERR', c: 6, m: 0 },\n  NoModificationAllowedError: { s: 'NO_MODIFICATION_ALLOWED_ERR', c: 7, m: 1 },\n  NotFoundError: { s: 'NOT_FOUND_ERR', c: 8, m: 1 },\n  NotSupportedError: { s: 'NOT_SUPPORTED_ERR', c: 9, m: 1 },\n  InUseAttributeError: { s: 'INUSE_ATTRIBUTE_ERR', c: 10, m: 1 },\n  InvalidStateError: { s: 'INVALID_STATE_ERR', c: 11, m: 1 },\n  SyntaxError: { s: 'SYNTAX_ERR', c: 12, m: 1 },\n  InvalidModificationError: { s: 'INVALID_MODIFICATION_ERR', c: 13, m: 1 },\n  NamespaceError: { s: 'NAMESPACE_ERR', c: 14, m: 1 },\n  InvalidAccessError: { s: 'INVALID_ACCESS_ERR', c: 15, m: 1 },\n  ValidationError: { s: 'VALIDATION_ERR', c: 16, m: 0 },\n  TypeMismatchError: { s: 'TYPE_MISMATCH_ERR', c: 17, m: 1 },\n  SecurityError: { s: 'SECURITY_ERR', c: 18, m: 1 },\n  NetworkError: { s: 'NETWORK_ERR', c: 19, m: 1 },\n  AbortError: { s: 'ABORT_ERR', c: 20, m: 1 },\n  URLMismatchError: { s: 'URL_MISMATCH_ERR', c: 21, m: 1 },\n  QuotaExceededError: { s: 'QUOTA_EXCEEDED_ERR', c: 22, m: 1 },\n  TimeoutError: { s: 'TIMEOUT_ERR', c: 23, m: 1 },\n  InvalidNodeTypeError: { s: 'INVALID_NODE_TYPE_ERR', c: 24, m: 1 },\n  DataCloneError: { s: 'DATA_CLONE_ERR', c: 25, m: 1 }\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar $Error = Error;\nvar replace = uncurryThis(''.replace);\n\nvar TEST = (function (arg) { return String($Error(arg).stack); })('zxcasd');\nvar V8_OR_CHAKRA_STACK_ENTRY = /\\n\\s*at [^:]*:[^\\n]*/;\nvar IS_V8_OR_CHAKRA_STACK = V8_OR_CHAKRA_STACK_ENTRY.test(TEST);\n\nmodule.exports = function (stack, dropEntries) {\n  if (IS_V8_OR_CHAKRA_STACK && typeof stack == 'string' && !$Error.prepareStackTrace) {\n    while (dropEntries--) stack = replace(stack, V8_OR_CHAKRA_STACK_ENTRY, '');\n  } return stack;\n};\n","var isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    isCallable(NewTarget = dummy.constructor) &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","var toString = require('../internals/to-string');\n\nmodule.exports = function (argument, $default) {\n  return argument === undefined ? arguments.length < 2 ? '' : $default : toString(argument);\n};\n","/* eslint-disable no-proto -- safe */\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    setter = uncurryThis(Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set);\n    setter(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var classof = require('../internals/classof');\n\nvar $String = String;\n\nmodule.exports = function (argument) {\n  if (classof(argument) === 'Symbol') throw TypeError('Cannot convert a Symbol value to a string');\n  return $String(argument);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar defineProperty = require('../internals/object-define-property').f;\nvar hasOwn = require('../internals/has-own-property');\nvar anInstance = require('../internals/an-instance');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar normalizeStringArgument = require('../internals/normalize-string-argument');\nvar DOMExceptionConstants = require('../internals/dom-exception-constants');\nvar clearErrorStack = require('../internals/error-stack-clear');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IS_PURE = require('../internals/is-pure');\n\nvar DOM_EXCEPTION = 'DOMException';\nvar Error = getBuiltIn('Error');\nvar NativeDOMException = getBuiltIn(DOM_EXCEPTION);\n\nvar $DOMException = function DOMException() {\n  anInstance(this, DOMExceptionPrototype);\n  var argumentsLength = arguments.length;\n  var message = normalizeStringArgument(argumentsLength < 1 ? undefined : arguments[0]);\n  var name = normalizeStringArgument(argumentsLength < 2 ? undefined : arguments[1], 'Error');\n  var that = new NativeDOMException(message, name);\n  var error = Error(message);\n  error.name = DOM_EXCEPTION;\n  defineProperty(that, 'stack', createPropertyDescriptor(1, clearErrorStack(error.stack, 1)));\n  inheritIfRequired(that, this, $DOMException);\n  return that;\n};\n\nvar DOMExceptionPrototype = $DOMException.prototype = NativeDOMException.prototype;\n\nvar ERROR_HAS_STACK = 'stack' in Error(DOM_EXCEPTION);\nvar DOM_EXCEPTION_HAS_STACK = 'stack' in new NativeDOMException(1, 2);\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar descriptor = NativeDOMException && DESCRIPTORS && Object.getOwnPropertyDescriptor(global, DOM_EXCEPTION);\n\n// Bun ~ 0.1.1 DOMException have incorrect descriptor and we can't redefine it\n// https://github.com/Jarred-Sumner/bun/issues/399\nvar BUGGY_DESCRIPTOR = !!descriptor && !(descriptor.writable && descriptor.configurable);\n\nvar FORCED_CONSTRUCTOR = ERROR_HAS_STACK && !BUGGY_DESCRIPTOR && !DOM_EXCEPTION_HAS_STACK;\n\n// `DOMException` constructor patch for `.stack` where it's required\n// https://webidl.spec.whatwg.org/#es-DOMException-specialness\n$({ global: true, constructor: true, forced: IS_PURE || FORCED_CONSTRUCTOR }, { // TODO: fix export logic\n  DOMException: FORCED_CONSTRUCTOR ? $DOMException : NativeDOMException\n});\n\nvar PolyfilledDOMException = getBuiltIn(DOM_EXCEPTION);\nvar PolyfilledDOMExceptionPrototype = PolyfilledDOMException.prototype;\n\nif (PolyfilledDOMExceptionPrototype.constructor !== PolyfilledDOMException) {\n  if (!IS_PURE) {\n    defineProperty(PolyfilledDOMExceptionPrototype, 'constructor', createPropertyDescriptor(1, PolyfilledDOMException));\n  }\n\n  for (var key in DOMExceptionConstants) if (hasOwn(DOMExceptionConstants, key)) {\n    var constant = DOMExceptionConstants[key];\n    var constantName = constant.s;\n    if (!hasOwn(PolyfilledDOMException, constantName)) {\n      defineProperty(PolyfilledDOMException, constantName, createPropertyDescriptor(6, constant.c));\n    }\n  }\n}\n","import { defineStore } from 'pinia'\r\nimport router from '../router'\r\nimport moment from 'moment'\r\nimport statusStore from './statusStore'\r\n\r\nconst status = statusStore()\r\nlet canvas = null\r\nexport default defineStore('pdfStore', {\r\n  state: () => ({\r\n    event: {},\r\n    pageNum: 1,\r\n    totalPage: 0,\r\n    scaleXY: 100,\r\n    pdfImage: null,\r\n    pdfData: null,\r\n    pdfName: '',\r\n    pdfHistory: [],\r\n    fromHistoryData: false,\r\n    cacheSearch: ''\r\n  }),\r\n  actions: {\r\n    async uploadPDF (e) {\r\n      this.event = e\r\n      if (this.event.target.files[0].size > 10000000) {\r\n        alert('檔案超過10MB，請重新選擇')\r\n        return\r\n      } else if (this.event.target.files[0].type != 'application/pdf') {\r\n        alert('檔案格式錯誤，請重新選擇')\r\n        return\r\n      }\r\n      this.analyzePDF()\r\n    },\r\n    // 使用原生 FileReader 轉檔\r\n    readBlob (blob) {\r\n      return new Promise((resolve, reject) => {\r\n        const reader = new FileReader()\r\n        reader.addEventListener('load', () => resolve(reader.result))\r\n        reader.addEventListener('error', reject)\r\n        reader.readAsDataURL(blob)\r\n      })\r\n    },\r\n    // 得到PDF長寬、設定了canvas長寬\r\n    async printPDF (pdfData) {\r\n      // console.log(pdfData)\r\n      const Base64Prefix = 'data:application/pdf;base64,'\r\n      pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://mozilla.github.io/pdf.js/build/pdf.worker.js'\r\n      // 將檔案處理成 base64\r\n      pdfData = await this.readBlob(pdfData)\r\n      // console.log(pdfData)\r\n      // 將 base64 中的前綴刪去，並進行解碼\r\n      const data = atob(pdfData.substring(Base64Prefix.length))\r\n      // console.log(data)\r\n      // 利用解碼的檔案，載入 PDF 檔及第一頁\r\n      const pdfDoc = await pdfjsLib.getDocument({ data }).promise\r\n      // console.log(pdfDoc)\r\n      this.totalPage = pdfDoc.numPages\r\n      const pdfPage = await pdfDoc.getPage(this.pageNum)\r\n      // console.log(pdfPage)\r\n      // 設定尺寸及產生 canvas\r\n      const viewport = pdfPage.getViewport({ scale: window.devicePixelRatio })\r\n      // console.log(viewport)\r\n      const canvas = document.createElement('canvas')\r\n      // console.log(canvas)\r\n      const context = canvas.getContext('2d')\r\n      // console.log(context)\r\n      // 設定 PDF 所要顯示的寬高及渲染\r\n      canvas.height = viewport.height\r\n      canvas.width = viewport.width\r\n      const renderContext = {\r\n        canvasContext: context,\r\n        viewport\r\n      }\r\n      const renderTask = pdfPage.render(renderContext)\r\n      // console.log(renderTask)\r\n      // 回傳做好的 PDF canvas\r\n      return renderTask.promise.then(() => canvas)\r\n    },\r\n    async pdfToImage () {\r\n      // 設定 PDF 轉為圖片時的比例\r\n      const scale = 1 / window.devicePixelRatio\r\n      // 回傳圖片\r\n      return new fabric.Image(this.pdfData, {\r\n        id: 'renderPDF',\r\n        scaleX: scale * this.scaleXY / 100,\r\n        scaleY: scale * this.scaleXY / 100\r\n      })\r\n    },\r\n    async analyzePDF () {\r\n      this.pdfData = await this.printPDF(this.event.target.files[0])\r\n      console.log(this.pdfData)\r\n      this.pdfImage = await this.pdfToImage(this.pdfData)\r\n      console.log(this.pdfImage)\r\n      // 假裝一下有loading\r\n      status.isLoading = true\r\n      setTimeout(() => {\r\n        status.isLoading = false\r\n        this.gotoSign()\r\n      }, '1000')\r\n    },\r\n    // 渲染(canvas, pdfImage)\r\n    async renderPage () {\r\n      // 解決從新整理找不到檔案問題\r\n      console.log(this.pdfImage)\r\n      if (!this.pdfImage) {\r\n        router.push('/')\r\n        return\r\n      }\r\n      canvas = new fabric.Canvas('canvas', {\r\n        fireRightClick: true, // 启用右键，button的数字为3\r\n        stopContextMenu: true // 禁止默认右键菜单\r\n      })\r\n      canvas.requestRenderAll()\r\n      // 透過比例設定 canvas 尺寸\r\n      canvas.setWidth(this.pdfImage.width / window.devicePixelRatio * this.scaleXY / 100)\r\n      canvas.setHeight(this.pdfImage.height / window.devicePixelRatio * this.scaleXY / 100)\r\n      // 將 PDF 畫面設定為背景\r\n      // 判斷是否從歷史紀錄回來此頁\r\n      // 暫時解決this.pdfImage存入localStorage解析後會改變的問題\r\n      if (this.fromHistoryData) {\r\n        await canvas.setBackgroundImage(this.pdfImage.src, canvas.renderAll.bind(canvas))\r\n      } else {\r\n        await canvas.setBackgroundImage(this.pdfImage, canvas.renderAll.bind(canvas))\r\n      }\r\n      // this.canvas = canvas\r\n    },\r\n    prevPage () {\r\n      if (this.pageNum <= 1) {\r\n        return\r\n      }\r\n      this.pageNum--\r\n      this.analyzePDF()\r\n    },\r\n    nextPage () {\r\n      if (this.pageNum >= this.totalPage) {\r\n        return\r\n      }\r\n      this.pageNum++\r\n      this.analyzePDF()\r\n    },\r\n    async zoomOut () {\r\n      if (this.scaleXY > 50) {\r\n        this.scaleXY -= 10\r\n        this.pdfImage = await this.pdfToImage(this.pdfData)\r\n        this.renderPage()\r\n      }\r\n    },\r\n    async zoomIn () {\r\n      if (this.scaleXY < 150) {\r\n        this.scaleXY += 10\r\n        this.pdfImage = await this.pdfToImage(this.pdfData)\r\n        this.renderPage()\r\n      }\r\n    },\r\n    addImage (imageURL) {\r\n      fabric.Image.fromURL(imageURL, image => {\r\n        // 設定簽名出現的位置及大小，後續可調整\r\n        image.top = 400\r\n        image.scaleX = 0.5\r\n        image.scaleY = 0.5\r\n        canvas.add(image)\r\n      })\r\n    },\r\n    addDate () {\r\n      const today = moment().format('YYYY/MM/DD')\r\n      const date = new fabric.Text(today, {\r\n        top: 200,\r\n        scaleX: 1,\r\n        scaleY: 1\r\n      })\r\n      canvas.add(date)\r\n    },\r\n    addTextToPDF (result) {\r\n      const text = new fabric.Text(result.value, (image) => {\r\n        image.top = 10\r\n        image.left = 10\r\n        image.scaleX = 1\r\n        image.scaleY = 1\r\n      })\r\n      canvas.add(text)\r\n    },\r\n    removeCanvas () {\r\n      canvas.on('mouse:down', canvasOnMouseDown)\r\n      function canvasOnMouseDown (opt) {\r\n        // 判断：右键，且在元素上右键\r\n        // opt.button: 1-左键；2-中键；3-右键\r\n        // 在画布上点击：opt.target 为 null\r\n        if (opt.button === 3 && opt.target) {\r\n          // 获取当前元素\r\n          console.log(opt.target)\r\n          canvas.remove(opt.target)\r\n        }\r\n      }\r\n    },\r\n    downloadPDF (filename) {\r\n      // 引入套件所提供的物件\r\n      const pdf = new jsPDF()\r\n      // 將 canvas 存為圖片\r\n      const imageUrl = canvas.toDataURL('image/png')\r\n      const obj = {}\r\n      obj.pdfImage = this.pdfImage\r\n      obj.pdfData = this.pdfData\r\n      obj.pdfName = filename\r\n      obj.pdfYear = new Date().getFullYear()\r\n      obj.pdfMonth = new Date().getMonth()\r\n      obj.pdfDate = new Date().getDate()\r\n      this.pdfHistory.push(obj)\r\n      localStorage.setItem('pdfHistory', JSON.stringify(this.pdfHistory))\r\n      // 設定背景在 PDF 中的位置及大小\r\n      const width = pdf.internal.pageSize.width\r\n      const height = pdf.internal.pageSize.height\r\n      pdf.addImage(imageUrl, 'png', 0, 0, width, height)\r\n      pdf.save(`${filename}.pdf`)\r\n      this.gotoUserHistory()\r\n    },\r\n    gotoSign () {\r\n      router.push('/UserSign/MakeSign')\r\n    },\r\n    gotoUserHistory () {\r\n      router.push('/UserHistory')\r\n    },\r\n    getPDFHistory () {\r\n      this.pdfHistory = JSON.parse(localStorage.getItem('pdfHistory')) || []\r\n    },\r\n    removePDFHistory (item) {\r\n      this.pdfHistory.splice(this.pdfHistory.indexOf(item), 1)\r\n      localStorage.setItem('pdfHistory', JSON.stringify(this.pdfHistory))\r\n    },\r\n    fromHistory () {\r\n      this.totalPage = 1\r\n      console.log(this.pdfData)\r\n      this.pdfToImage()\r\n      this.renderPage()\r\n    }\r\n  },\r\n  getters: {\r\n    filterFiles () {\r\n      return this.pdfHistory.filter((item) => {\r\n        return item.pdfName.match(this.cacheSearch)\r\n      })\r\n    }\r\n  }\r\n})\r\n","import { defineStore } from 'pinia'\r\nimport router from '../router'\r\nimport statusStore from './statusStore'\r\n\r\nconst status = statusStore()\r\nexport default defineStore('signStore', {\r\n  state: () => ({\r\n    signs: [],\r\n    signMethod: 'handwriting',\r\n    imagePreview: '',\r\n    color: 'black'\r\n  }),\r\n  actions: {\r\n    getSign () {\r\n      this.signs = JSON.parse(localStorage.getItem('signs')) || []\r\n      const canvas = document.querySelector('#canvasImage')\r\n      const ctx = canvas.getContext('2d')\r\n      const clearBtn = document.querySelector('.clear')\r\n\r\n      // 設定線條的相關數值\r\n      ctx.lineWidth = 4\r\n      ctx.lineCap = 'round'\r\n      ctx.strokeStyle = this.color\r\n      // 設置狀態來確認滑鼠 / 手指是否按下或在畫布範圍中\r\n      let isPainting = false\r\n\r\n      // 取得滑鼠 / 手指在畫布上的位置\r\n      function getPaintPosition (e) {\r\n        const canvasSize = canvas.getBoundingClientRect()\r\n\r\n        if (e.type === 'mousemove') {\r\n          return {\r\n            x: e.clientX - canvasSize.left,\r\n            y: e.clientY - canvasSize.top\r\n          }\r\n        } else {\r\n          return {\r\n            x: e.touches[0].clientX - canvasSize.left,\r\n            y: e.touches[0].clientY - canvasSize.top\r\n          }\r\n        }\r\n      }\r\n\r\n      // 開始繪圖時，將狀態開啟\r\n      function startPosition (e) {\r\n        e.preventDefault()\r\n        isPainting = true\r\n      }\r\n\r\n      // 結束繪圖時，將狀態關閉，並產生新路徑\r\n      function finishedPosition () {\r\n        isPainting = false\r\n        ctx.beginPath()\r\n      }\r\n\r\n      // 繪圖過程\r\n      function draw (e) {\r\n        // 滑鼠移動過程中，若非繪圖狀態，則跳出\r\n        if (!isPainting) return\r\n\r\n        // 取得滑鼠 / 手指在畫布上的 x, y 軸位置位置\r\n        const paintPosition = getPaintPosition(e)\r\n\r\n        // 移動滑鼠位置並產生圖案\r\n        ctx.lineTo(paintPosition.x, paintPosition.y)\r\n        ctx.stroke()\r\n      }\r\n\r\n      // 重新設定畫布\r\n      function reset () {\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height)\r\n      }\r\n\r\n      // event listener 電腦板\r\n      canvas.addEventListener('mousedown', startPosition)\r\n      canvas.addEventListener('mouseup', finishedPosition)\r\n      canvas.addEventListener('mouseleave', finishedPosition)\r\n      canvas.addEventListener('mousemove', draw)\r\n\r\n      // event listener 手機板\r\n      canvas.addEventListener('touchstart', startPosition)\r\n      canvas.addEventListener('touchend', finishedPosition)\r\n      canvas.addEventListener('touchcancel', finishedPosition)\r\n      canvas.addEventListener('touchmove', draw)\r\n\r\n      clearBtn.addEventListener('click', reset)\r\n    },\r\n    saveImage () {\r\n      if (this.signMethod === 'handwriting') {\r\n        const canvas = document.querySelector('#canvasImage')\r\n        this.signs.push(canvas.toDataURL('image/png'))\r\n        localStorage.setItem('signs', JSON.stringify(this.signs))\r\n        this.reset()\r\n      } else {\r\n        this.signs.push(this.imagePreview)\r\n        localStorage.setItem('signs', JSON.stringify(this.signs))\r\n        this.imagePreview = ''\r\n      }\r\n    },\r\n    removeImage (item) {\r\n      this.signs.splice(this.signs.indexOf(item), 1)\r\n      localStorage.setItem('signs', JSON.stringify(this.signs))\r\n    },\r\n    reset () {\r\n      const canvas = document.querySelector('#canvasImage')\r\n      const ctx = canvas.getContext('2d')\r\n      ctx.clearRect(0, 0, canvas.width, canvas.height)\r\n    },\r\n    gotoEditPDF () {\r\n      router.push('/UserSign/EditPDF')\r\n    },\r\n    // 匯入簽名檔部分\r\n    async handleFileUpload (e) {\r\n      try {\r\n        const file = e.target.files[0]\r\n        if (!file) return\r\n\r\n        const beforeUploadCheck = await this.beforeUpload(file)\r\n        if (!beforeUploadCheck.isValid) {\r\n          throw beforeUploadCheck.errorMessages\r\n        }\r\n        this.to64(file)\r\n      } catch (error) {\r\n        alert(error)\r\n        console.log('Catch Error: ', error)\r\n      } finally {\r\n        e.target.value = ''\r\n        // setUploading(false)\r\n      }\r\n    },\r\n    beforeUpload (fileObject) {\r\n      return new Promise((resolve) => {\r\n        const validFileTypes = ['image/jpeg', 'image/png']\r\n        const isValidFileType = validFileTypes.includes(fileObject.type)\r\n        const errorMessages = []\r\n\r\n        if (!isValidFileType) {\r\n          errorMessages.push('You can only upload JPG or PNG file!')\r\n        }\r\n\r\n        const isValidFileSize = fileObject.size / 1024 / 1024 < 2\r\n        if (!isValidFileSize) {\r\n          errorMessages.push('Image must smaller than 2MB!')\r\n        }\r\n\r\n        resolve({\r\n          isValid: isValidFileType && isValidFileSize,\r\n          errorMessages: errorMessages.join('\\n')\r\n        })\r\n      })\r\n    },\r\n    showPreviewImage (fileObj) {\r\n      const image = URL.createObjectURL(fileObj)\r\n      this.imagePreview = image\r\n    },\r\n    to64 (File) {\r\n      const formData = new FormData()\r\n      formData.append('iFile', File)\r\n      const file = formData.get('iFile')\r\n      const reader = new FileReader()\r\n      const fileType = file.type\r\n      reader.readAsDataURL(file)\r\n\r\n      // reader读取完成\r\n      reader.onload = e => {\r\n        if (/^image\\/[jpeg|png|gif]/.test(fileType)) {\r\n          // imgDom.src = e.target.result\r\n          console.log(e.target.result)\r\n          this.imagePreview = e.target.result\r\n        }\r\n      }\r\n    }\r\n  }\r\n})\r\n","import { defineStore } from 'pinia'\r\n\r\nexport default defineStore('statusStore', {\r\n  state: () => ({\r\n    isLoading: false,\r\n    signHistoryView: false\r\n  }),\r\n  actions: {\r\n\r\n  }\r\n})\r\n"],"names":["isCallable","$String","String","$TypeError","TypeError","module","exports","argument","isPrototypeOf","it","Prototype","TO_STRING_TAG_SUPPORT","classofRaw","wellKnownSymbol","TO_STRING_TAG","$Object","Object","CORRECT_ARGUMENTS","arguments","tryGet","key","error","O","tag","result","undefined","callee","IndexSizeError","s","c","m","DOMStringSizeError","HierarchyRequestError","WrongDocumentError","InvalidCharacterError","NoDataAllowedError","NoModificationAllowedError","NotFoundError","NotSupportedError","InUseAttributeError","InvalidStateError","SyntaxError","InvalidModificationError","NamespaceError","InvalidAccessError","ValidationError","TypeMismatchError","SecurityError","NetworkError","AbortError","URLMismatchError","QuotaExceededError","TimeoutError","InvalidNodeTypeError","DataCloneError","uncurryThis","$Error","Error","replace","TEST","arg","stack","V8_OR_CHAKRA_STACK_ENTRY","IS_V8_OR_CHAKRA_STACK","test","dropEntries","prepareStackTrace","isObject","setPrototypeOf","$this","dummy","Wrapper","NewTarget","NewTargetPrototype","constructor","prototype","toString","$default","length","anObject","aPossiblePrototype","setter","CORRECT_SETTER","getOwnPropertyDescriptor","set","Array","proto","__proto__","classof","$","global","getBuiltIn","createPropertyDescriptor","defineProperty","hasOwn","anInstance","inheritIfRequired","normalizeStringArgument","DOMExceptionConstants","clearErrorStack","DESCRIPTORS","IS_PURE","DOM_EXCEPTION","NativeDOMException","$DOMException","this","DOMExceptionPrototype","argumentsLength","message","name","that","ERROR_HAS_STACK","DOM_EXCEPTION_HAS_STACK","descriptor","BUGGY_DESCRIPTOR","writable","configurable","FORCED_CONSTRUCTOR","forced","DOMException","PolyfilledDOMException","PolyfilledDOMExceptionPrototype","constant","constantName","status","statusStore","canvas","defineStore","state","event","pageNum","totalPage","scaleXY","pdfImage","pdfData","pdfName","pdfHistory","fromHistoryData","cacheSearch","actions","async","e","target","files","size","alert","type","analyzePDF","readBlob","blob","Promise","resolve","reject","reader","FileReader","addEventListener","readAsDataURL","Base64Prefix","pdfjsLib","GlobalWorkerOptions","workerSrc","data","atob","substring","pdfDoc","getDocument","promise","numPages","pdfPage","getPage","viewport","getViewport","scale","window","devicePixelRatio","document","createElement","context","getContext","height","width","renderContext","canvasContext","renderTask","render","then","fabric","Image","id","scaleX","scaleY","printPDF","console","log","pdfToImage","isLoading","setTimeout","gotoSign","Canvas","fireRightClick","stopContextMenu","requestRenderAll","setWidth","setHeight","setBackgroundImage","src","renderAll","bind","router","prevPage","nextPage","renderPage","addImage","imageURL","fromURL","image","top","add","addDate","today","moment","format","date","Text","addTextToPDF","text","value","left","removeCanvas","canvasOnMouseDown","opt","button","remove","on","downloadPDF","filename","pdf","jsPDF","imageUrl","toDataURL","obj","pdfYear","Date","getFullYear","pdfMonth","getMonth","pdfDate","getDate","push","localStorage","setItem","JSON","stringify","internal","pageSize","save","gotoUserHistory","getPDFHistory","parse","getItem","removePDFHistory","item","splice","indexOf","fromHistory","getters","filterFiles","filter","match","signs","signMethod","imagePreview","color","getSign","querySelector","ctx","clearBtn","lineWidth","lineCap","strokeStyle","isPainting","getPaintPosition","canvasSize","getBoundingClientRect","x","clientX","y","clientY","touches","startPosition","preventDefault","finishedPosition","beginPath","draw","paintPosition","lineTo","stroke","reset","clearRect","saveImage","removeImage","gotoEditPDF","file","beforeUploadCheck","beforeUpload","isValid","errorMessages","to64","fileObject","validFileTypes","isValidFileType","includes","isValidFileSize","join","showPreviewImage","fileObj","URL","createObjectURL","File","formData","FormData","append","get","fileType","onload","signHistoryView"],"sourceRoot":""}